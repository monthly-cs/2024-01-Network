<img src="https://github.com/monthly-cs/2024-01-network/assets/105256335/deaebe84-1a77-4d9e-8959-de0f8df7c263">

3장에서 다뤘던 MAC 주소는 2계층의 핵심 네트워크 장비인 스위치와 함께 동작한다.

스위치는 네트워크 중간에서 패킷을 받아 필요한 곳에만 보내주는 네트워크의 중재자다.

### 4.1 스위치 장비 동작

---

과거 네트워크는 패킷을 전송할 때 서로 경합해 네트워크 성능 저하가 심했지만,

이런 성능 저하를 막고 통신하도록 도와주는 것이 바로 스위치다.

이런 동작이 가능한 이유는, MAC 주소와 단말이 위치하는 인터페이스 정보를 매핑한 MAC 주소 테이블을 갖고 있어서 가능하다.

**4.1.1 플러딩**

---

스위치가 허브와 같이 모든 포트로 패킷을 흘리는 것을 플러딩이라고 한다.

MAC 주소 테이블에 매칭되는게 있다면 매칭되는 곳으로, 아니라면 모든 포트로 패킷을 흘린다.

**4.1.2 어드레스 러닝**

---

MAC 주소테이블을 만드는 과정을 어드레스 러닝이라고 한다.

어드레스 러닝은 출발지 MAC 주소를 사용하기 때문에 브로드캐스트나 멀티캐스트에 대한 MAC 주소를 학습할 수 없다.

두 가지 모두 목적지 MAC 주소 필드에서만 사용하기 때문

**4.1.3 포워딩 / 필터링**

---

MAC 테이블과 매칭되는게 있다면 그쪽으로 보내는 것이 포워딩,

다른 포트로는 보내지 않기 때문에 필터링

스위치는 일반적인 유니캐스트에 대해서만 포워딩과 필터링 작업을 한다.

### 4.2 VLAN

---

VLAN은 물리적 배치와 상관없이 LAN을 논리적으로 분할, 구성하는 기술이다.

### 4.3 STP

---

SPOF(단일 장애점)이란 하나의 시스템이나 구성 요소의 문제가 전체 시스템의 마비로 이어지는 경우를 말한다.

네트워크에서도 이런 장애점을 해결하기 위해 스위치 두 대로 네트워크를 디자인한다.

두 대 이상의 스위치로 디자인하면 패킷이 네트워크를 따라 계속 전송되면서 네트워크를 마비시킬 수 있다.

이런 상황을 네트워크 루프라고 한다.
